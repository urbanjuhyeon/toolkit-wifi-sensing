# A nationwide dataset of de-identified activity spaces derived from geotagged social media data

**Ate Poorthuis** - KU Leuven, Belgium

**Qingqing Chen** - University at Buffalo, USA

**Matthew Zook** - University of Kentucky, USA

*EPB: Urban Analytics and City Science* 2024, Vol. 51(9) 2264–2275

DOI: 10.1177/23998083241264051

---

## Abstract

In this article, we present a historical dataset of activity spaces, originally based on publicly posted and geotagged social media sent within the United States from 2012 to 2019. The dataset, which contains approximately 2 million users and 1.2 billion data points, is de-identified and spatially aggregated to enable ethical and broad sharing across the research community. By publishing the dataset, we hope to help researchers to quickly access and filter data to study people's activity spaces across a range of places. In this article, we first describe the construction and characteristics of this dataset and then highlight certain limitations of the data through an illustrative analysis of potential bias—an important consideration when using data not collected through representative sampling. Our goal is to empower researchers to create novel, insightful research projects of their own design based on this dataset.

**Keywords**: Activity spaces, geotagged social media, location-based services, human mobility

---

## Introduction

It has been well over 15 years since location-based services (LBS) and other geo-enabled digital platforms (e.g., Facebook and Twitter) became commonplace in both daily life and research. Jumpstarting renewed interest in computational approaches in the social sciences in general (Lazer et al., 2009) and the spatial sciences in particular (Miller, 2010; Singleton and Arribas-Bel, 2019), researchers have analyzed both the social implications of these platforms and leveraged their datasets for spatial research. This journal alone has published dozens of articles on, or using, social media data. Although this research continues, particularly during the COVID-19 pandemic (e.g., Terroso-Saenz et al., 2022), change is on the horizon. A combination of increasing privacy and ethical concerns (Zook et al., 2017), and the increasing value of data (Sadowski, 2019), means that the open platforms of the early 2000s have been largely replaced by closed APIs and walled-off data. Facebook restricts access to external researchers (Brown, 2020), and Twitter, once one of the most accessible platforms for researchers, has radically altered its API and terms and conditions after Elon Musk purchased the company in 2022.

This results in the paradoxical situation of ever-more data that at the same time is not readily accessible to the scientific community. Instead of direct API access to specific data and platforms, we increasingly encounter disembedded "mobile application data" derived from people's interactions with an opaque plethora of mobile apps. This data is generated by individual people through the digital apps they use, sold to a web of data brokers who, after aggregating and combining data from many sources, sell access to the combined data. In short, the shape of, and access to, digital data in geographic research is changing precisely as research increasingly shows the potential of this data to help understand human mobility and social processes more broadly (e.g., Ballantyne et al., 2022; Xu, 2021). Were such data to be more widely available in open and ethical ways, more insightful research on mobility and people's activity spaces could be conducted (Poom et al., 2020).

With this in mind, we devise a method for more widely sharing historical social media data that we have collectively created over the last decades to offer an open, standardized data source for geographic research. While a myriad of research designs might leverage social media data, we focus our effort on the concept of activity spaces specifically. Activity spaces, encompassing all the activities and locations that an individual might visit during their daily life, are a cornerstone of geographic thought tracing back to Hägerstrand's time geography (Hägerstrand, 1970). New data sources, including the social media data described here, have enabled an increasing integration of this concept in a wide range of geographic work (Müürisepp et al., 2022). Data on activity spaces can help illuminate broader urban processes, ranging from gentrification and neighborhood change (Poorthuis et al., 2021) to segregation and access to green space (Heikinheimo et al., 2020; Väisänen et al., 2022). However, access to *open* data is increasingly challenging potentially leading to a fragmented landscape where studies are difficult to compare, replicate or even just start if researchers are unable to gain access to the requisite source data.

In this article, we present a historical dataset of activity spaces, originally based on publicly posted and geotagged Twitter posts across the United States from 2012 to 2019. The dataset, which contains approximately 2 million users and 1.2 billion data points, is de-identified and spatially aggregated to enable ethical and broad sharing across the research community. By publishing the dataset, we hope to help researchers to quickly access and filter data to study people's activity spaces across a range of places, from downtown Chicago and rural Montana; or conversely to support the analysis of the origin of visitors to the nation's national parks or one specific neighborhood in Austin, Texas. In this article, we first describe the construction and characteristics of this dataset and then highlight certain limitations of the data through an illustrative analysis of potential bias—a perennial concern when using data not collected through representative sampling (Longley et al., 2015; McNeill et al., 2017). From this basis, researchers can be empowered to create novel, insightful research projects of their own design.

---

## Data

We started the data collection for the underlying repository at the University of Kentucky in 2012 via Twitter's then-open Streaming API. The collection was not limited to specific search terms but includes all geotagged tweets within the boundary of the United States. As some of the co-authors moved institutions, the collection continued at Singapore University of Technology and Design (2016–2020) and KU Leuven (2020–2023) and terminated when Twitter retired public access to its v1 API in early 2023. The exact collection approach and technology is described in Poorthuis and Zook (2017).

By design and limited by the platform's terms and conditions, the original data is not shared here. The landscape of the platform's API and terms and conditions has changed radically over the years. For example, it used to be possible to share the raw tweet ID and then other researchers could "rehydrate" the additional information from Twitter's API, but this method is no longer feasible at the time of writing this article. Therefore, to safeguard the longevity of this data set, ensure our ethical obligation, and to clearly not breach the terms and conditions under which the data was collected, we have elected not to share any of the actual or original data. Rather, we offer a new aggregated and de-identified dataset, tailored for geographic research, on human mobility with transparent details on our method. We hope that this might be the first of multiple such datasets for different regions and topics.

We start with selecting data points between 2012 and 2019 (excluding the pandemic, given its likely effect on activity spaces) created by users with 15 (our baseline for useful information on activity spaces) to 10,000 observations (to minimize bias from bots or power users). As geotagged tweets might have either a precise coordinate location (e.g., derived from GPS) or a more general "place" (e.g., "New York, NY"), we consider only the former. Given our focus on activity spaces, we retain only the timestamp and the location field, discarding other data such as user name or post text, yielding an initial set of around 10.25 million users.

To convert this raw data into activity spaces, we infer the most likely home base of each user. We use the `homelocator` R package to infer home bases at resolution 10 of the *h3* grid (Uber Technologies, 2023). We use the proposed ensemble approach (i.e., requiring a three-algorithm agreement before a positive match is made) detailed in Chen and Poorthuis (2021) as they found a 81.5% precision rate compared to a hand-labeled ground-truth dataset. The ensemble approach is relatively strict to prevent false positives and provides the most likely home base for only 19.18% of users, resulting in a final, raw dataset consisting of approximately 2 million users and 1.2 billion data points.

Although this dataset does not contain any obvious identifying characteristics, location itself is sensitive data. To enable ethical sharing of data, we create a new aggregated, de-identified dataset from this input data through a combination of filtering, aggregation, and perturbation in line with Chen and Poorthuis (2021). The process of collecting the initial data and then creating the new de-identified dataset is summarized in Figure 1. We should note that the guaranteed maintenance of privacy and prevention of identification in such data is an open research problem (Fiore et al., 2020) and very challenging if the data is to retain value for mobility research (Lestyán et al., 2022). With this in mind, we believe our design allows us to ethically share this dataset as the data was originally posted in a public forum and both the likelihood of re-identification and potential impact (cf. Solymosi et al., 2023) are low. Specific design elements encompass: (1) including only timestamp and location, excluding more sensitive or identifying information; (2) transforming and aggregating these two variables; timestamp rounded to the nearest hour and location to a 500–1500-m grid cell; (3) adding random perturbation to both timestamps and locations, which provides a degree of plausible deniability; and (4) removing locations with very few observations (i.e., <= 5 observations).

[Figure 1. An overview of data collection, aggregation, and de-identification workflow. The flowchart shows: Original dataset (all geo-tagged data points between 2012-2019 in US) → Initial filter (data points/user ∈ [15, 10000]? and Precise coordinate location?) → Subset of original dataset (~10.25 million users) → Infer likely "home" locations using homelocator → Input filtered dataset (~1.2 billion geo-tagged data points, ~2 million users). Then through Timestamp Perturbation (Step 1: Obfuscate time with t_random ∈ [-60 mins, 60mins]; Step 2: Swap day of week) and Location Perturbation (Step 3: Obfuscate location by shifting within H3 hexagon 2-ring), followed by Aggregation (Step 4: Spatial - aggregate to H3 resolution 7 ~1221m and resolution 8 ~461m; Temporal - aggregate timestamp to nearest hour), Step 5: Remove explicit identifiers (Replace user IDs & data point IDs with random number), Step 6: Filter hexagons with too few data points (Remove hexagons with data points ≤ 5) → Output de-identified dataset]

The resulting dataset, amounting to 13 GB, is hosted in a series of Parquet files accessible at https://doi.org/10.48804/MBT32W. The dataset contains the following fields:

- "id": a randomly generated identifier for each data point.
- "user_id": a randomly generated identifier for each user.
- "timestamp": a UTC date-time stamp, rounded to the nearest hour.
- "timezone": the time zone corresponding to the location of the data point.
- "loc_h3_7": the geographic location of the data point, at H3 resolution 7.
- "loc_h3_8": the geographic location of the data point, at H3 resolution 8 (only included for urban locations).
- "home_loc_h3_7": the most likely home location, at H3 resolution 7.
- "home_loc_h3_8": the most likely home location, at H3 resolution 8 (only included for urban locations).

Parquet files can be read by most analytical environments (e.g., Python, R) and support efficient and partial download over HTTP, allowing access to a subset of the data from the URL. The online documentation of the data has various code examples that illustrate how to read, visualize, and process the data further.

---

## Bias

Social media data has often been used to study mobility and mobility-related processes. However, the inherent bias within this data, and differences with representative sampling, are frequently raised as issues hindering further adoption (e.g., Longley et al., 2015; McNeill et al., 2017). Comprehensive analysis evaluating this bias at a fine spatial resolution remains largely unexplored and is often limited to noting that Twitter users are younger and richer than the average American (Pew Research Center, 2019). Significantly, this understanding of user characteristics often comes from nationwide surveys by PEW Research and does not offer any insights into the potential variation of this bias across different parts of the country. To address this gap, we examine the potential bias within this dataset by comparing the density of home locations to population data from the US Census.

[Figure 2. Spatial distribution of standardized users and its correlation to census population. Three scatter plots showing correlation at State level (R = 0.99, p < 2.2e-16), County level (R = 0.98, p < 2.2e-16), and Tract level (R = 0.34, p < 2.2e-16). Two choropleth maps of the contiguous US showing standardized number of inferred residents and standardized number of actual population, with similar spatial patterns.]

Figure 2 compares the standardized census population against the user population in the dataset. What is clear is that the reliability of the data is spatially dependent. The correspondence at the state and county level is very strong (Pearson's r = 0.99 and 0.98, respectively), but the correlation at the census tract level is much lower (Pearson's r = 0.34), revealing considerable over- or under-representation in specific census tracts.

To better illustrate the spatial variation in this misrepresentation of users, we conduct a geographically-weighted regression (GWR) with the number of user home locations as the dependent variable and the following independent variables: census population; median household income; median age; and percentage of white people. Since the number of users represents count data, we use a generalized linear model (GLM) to estimate a Poisson regression. Figures 3 and 4 show the estimates for each of the independent variables at the county and tract level, respectively. The global regression results are included for reference in Table A1.

[Figure 3. The spatial distribution of coefficients for different independent variables at county level. Four choropleth maps of the contiguous US showing: (a) Logged census population coefficients ranging from 0.936 to 1.337; (b) Median household income coefficients ranging from -5e-5 to 5e-5; (c) Median age coefficients ranging from -0.132 to 0.040; (d) Percentage of white coefficients ranging from -0.024 to 0.028. The vertical dashed line on each legend indicates the coefficients from the global model.]

At the county level, a few things stand out. First, the median age in the global model has a negative effect on the number of users, corresponding to the general relationship found in the PEW Research data. However, this effect is significantly diminished in the GWR local coefficients in parts of the West Coast and much stronger than the national average in a north-south corridor in the middle of the country. Even more extreme, the effect of the percentage of white people in this middle corridor is positive overall, as it is in areas such as the Pacific Northwest (i.e., a higher percentage of white people generally means a higher number of users within the dataset). The direction of this effect, however, flips completely in several states including California, Colorado, and the Gulf Coast region.

[Figure 4. The spatial distribution of coefficients by different independent variables at tract level. Three rows of four maps each showing (a) Jefferson, KY; (b) Los Angeles, CA; (c) New York, NY. Each row displays coefficients for: Logged census population, Median household income, Median age, and Percentage of white. Color scales vary by location showing positive (orange) and negative (purple) effects.]

Shifting to the tract level highlights further localized differences (see Figure 4). For example, the effect for percentage white is consistently positive in Manhattan, including in Harlem, suggesting a relative underrepresentation of non-white people in these areas. In contrast, Los Angeles has areas with both positive and negative effects, with the neighborhood around Compton, which is home to a significant proportion of African-Americans, showing a negative effect. In short, the relationship between race and the density of users in the dataset might very well vary between these two major cities.

Given this variegated (bias in) density of users within the dataset, general and generalizing use of this data should be done cautiously. Nonetheless, the broad scope of this dataset also opens the door for specific approaches that address bias. Depending on the research question and design, users from different neighborhoods could be weighted differently so that the final dataset more closely resembles the population of interest. Alternatively, if the social or spatial group of interest is relatively small (or does not have a large presence in the dataset), these neighborhoods can be oversampled deliberately (and others undersampled). Alternatively, researchers might decide to focus only on users from a specific neighborhood(s) of interest.

---

## Conclusion

In this paper, we present a de-identified, historical dataset of activity spaces, based on the public social media activity of approximately 2 million users across the United States. We share this data publicly against a backdrop of a changing social media data landscape. Digital platform data is no longer as generally or publicly accessible to researchers as it was in the first decades of this millennium. Instead, human mobility research increasingly relies on cell phone or mobile app data, which can require significant resources to procure and for which ethical and transparent approaches of working and sharing need to be developed further.

In the meantime, we hope that the current dataset might help leverage the last two decades of human activity on social media platforms and perhaps enable a larger group of researchers to incorporate human mobility data in their analyses. This, of course, needs to be done in a critical and cautious manner as this data is not created by a representative sample of the population. Nonetheless, the scale of the data allows for a concerted effort in this manner so that potential bias can be considered at the research design phase.

---

## Declaration of conflicting interests

The author(s) declared no potential conflicts of interest with respect to the research, authorship, and/or publication of this article.

## Funding

The author(s) disclosed receipt of the following financial support for the research, authorship, and/or publication of this article: This work was supported by the KU Leuven Internal Funds (STG/20/2021).

## ORCID iDs

Ate Poorthuis https://orcid.org/0000-0002-3808-7493

Qingqing Chen https://orcid.org/0000-0002-3787-3134

## Data availability statement

All data discussed in this article can be accessed through the KU Leuven RDR repository through the following persistent link: https://doi.org/10.48804/MBT32W.

---

## Notes

1. According to a Web of Science search on 29 May 2023, EPB published 14 articles on Twitter; 35 on social media data; 19 on OpenStreetMap as well as a range of other platforms such as Weibo (3) and Foursquare (4).

2. Code to replicate this analysis can be at: https://doi.org/10.48804/CO9CWN. Sensitivity analysis for the bandwidth selection is included in Figure A2.

3. To give a concrete example of a starting point for such analysis, we include an example of mobility flows derived from activity spaces in a single US county (Jefferson County, KY) in Figure A3 and a subsequent illustration how these activity spaces could be used in Figure A4.

---

## References

Ballantyne P, Singleton A, Dolega L, et al. (2022) A framework for delineating the scale, extent and characteristics of American retail centre agglomerations. *Environment and Planning B: Urban Analytics and City Science* 49(3): 1112–1128. DOI: 10.1177/23998083211040519.

Brown AJ (2020) "Should I stay or should I leave?": exploring (Dis)continued Facebook use after the Cambridge Analytica scandal. *Social Media + Society* 6(1): 205630512091388. DOI: 10.1177/2056305120913884.

Chen Q and Poorthuis A (2021) Identifying home locations in human mobility data: an open-source R package for comparison and reproducibility. *International Journal of Geographical Information Science* 35(9): 1425–1448. DOI: 10.1080/13658816.2021.1887489.

Duncan OD and Duncan B (1955) A methodological analysis of segregation indexes. *American Sociological Review* 20(2): 210–217. DOI: 10.2307/2088328.

Fiore M, Katsikouli P, Zavou E, et al. (2020) Privacy in trajectory micro-data publishing: a survey. *Transactions on Data Privacy* 13: 91.

Hägerstrand T (1970) What about people in regional science? *Papers - Regional Science Association* 24(1): 6–21. DOI: 10.1111/j.1435-5597.1970.tb01464.x.

Heikinheimo V, Tenkanen H, Bergroth C, et al. (2020) Understanding the use of urban green spaces from user-generated geographic information. *Landscape and Urban Planning* 201: 103845. DOI: 10.1016/j.landurbplan.2020.103845.

Lazer D, Pentland A, Adamic L, et al. (2009) Social science. Computational social science. *Science* 323(5915): 721–723. DOI: 10.1126/science.1167742.

Lestyán S, Ács G and Biczók G (2022) In search of lost utility: private location data. *Proceedings on Privacy Enhancing Technologies* 2022(3): 354–372. DOI: 10.56553/popets-2022-0076.

Longley PA, Adnan M and Lansley G (2015) The geotemporal demographics of Twitter usage. *Environment and Planning A: Economy and Space* 47(2): 465–484. DOI: 10.1068/a130122p.

McNeill G, Bright J and Hale SA (2017) Estimating local commuting patterns from geolocated Twitter data. *EPJ Data Science* 6(1): 24. DOI: 10.1140/epjds/s13688-017-0120-x.

Miller HJ (2010) The data avalanche is here. Shouldn't we be digging? *Journal of Regional Science* 50(1): 181–201. DOI: 10.1111/j.1467-9787.2009.00641.x.

Müürisepp K, Järv O, Tammaru T, et al. (2022) Activity spaces and big data sources in segregation research: a methodological review. *Frontiers in Sustainable Cities* 4(861640): 1–16. Available at: https://www.frontiersin.org/articles/10.3389/frsc.2022.861640.

Pew Research Center (2019) *Sizing up Twitter Users*.

Poom A, Järv O, Zook M, et al. (2020) COVID-19 is spatial: ensuring that mobile big data is used for social good. *Big Data & Society* 7(2): 2053951720952088. DOI: 10.1177/2053951720952088.

Poorthuis A, Shelton T and Zook M (2021) Changing neighborhoods, shifting connections: mapping relational geographies of gentrification using social media data. *Urban Geography* 43(7): 960–983. DOI: 10.1080/02723638.2021.1888016.

Poorthuis A and Zook MA (2017) Making big data small: Strategies to expand urban and geographical research using social media. *Journal of Urban Technology* 36: 1–21. Available at: https://doi.org/10.1080/10630732.2017.1335153.

Sadowski J (2019) When data is capital: datafication, accumulation, and extraction. *Big Data & Society* 6(1): 205395171882054. DOI: 10.1177/2053951718820549.

Singleton A and Arribas-Bel D (2019) Geographic data science. *Geographical Analysis* 53(1): 61–75. DOI: 10.1111/gean.12194.

Solymosi R, Buil-Gil D, Ceccato V, et al. (2023) Privacy challenges in geodata and open data. *Area* 55(4): 456–464. DOI: 10.1111/area.12888.

Terroso-Saenz F, Muñoz A, Arcas F, et al. (2022) An analysis of Twitter as a relevant human mobility proxy: a comparative approach in Spain during the COVID-19 pandemic. *GeoInformatica* 26(4): 677–706. DOI: 10.1007/s10707-021-00460-z.

Uber Technologies (2023) H3 | H3. https://h3geo.org/.

Väisänen T, Järv O, Toivonen T, et al. (2022) Mapping urban linguistic diversity with social media and population register data. *Computers, Environment and Urban Systems* 97: 101857. DOI: 10.1016/j.compenvurbsys.2022.101857.

Wong DWS and Shaw S-L (2010) Measuring segregation: an activity space approach. *Journal of Geographical Systems* 13(2): 127–145. DOI: 10.1007/s10109-010-0112-x.

Xu W (2021) The contingency of neighbourhood diversity: variation of social context using mobile phone application data. *Urban Studies* 59: 851–869. DOI: 10.1177/00420980211019637.

Zook MA, Barocas S, boyd d, et al. (2017) Ten simple rules for responsible big data research. *PLoS Computational Biology* 13(3): e1005399. DOI: 10.1371/journal.pcbi.1005399.

---

## Appendix

The lines indicate the connections between home locations and visited places. The choropleth map indicates the percentage of African-Americans relative to all visitors in each location. The vignette in the documentation of the dataset has more details on how the data for one specific county was extracted from the data and how activity spaces were linked to data from the Census.

**Table A1.** An overview of the result of GLM at both county and tract levels.

| | Dependent variable: Inferred home locations |
|---|---|
| | County level | Tract level |
| Logged census population | 1.0886*** (1.0873, 1.0899) | 0.7346*** (0.7315, 0.7377) |
| Median household income | 5.23e-8 (−3.47e-8, 1.39e-7) | 3.50e-6*** (3.45e-6, 3.54e-6) |
| Median age | −0.0316*** (−0.0320, −0.0312) | −0.0359*** (−0.0361, −0.0357) |
| Percentage of white | 0.0038*** (0.0037, 0.0039) | 0.0005*** (0.0005, 0.0006) |
| Constant | −5.2877*** (−5.3114, −5.2640) | −1.7124*** (−1.7411, −1.6836) |
| Observations | 3,087 | 67,490 |
| Log likelihood | −92,531.39 | −608,486.70 |
| Akaike Inf. Crit. | 185,072.80 | 1,216,983.00 |

*Note*: \*p < .1; \*\*p < .05; \*\*\*p < .01.

[Figure A2. Sensitivity test for different bandwidths of the geographically-weighted regression. Four panels showing maps for (a) Bandwidth: 445km, (b) Bandwidth: 350km, (c) Bandwidth: 300km, (d) Bandwidth: 250km. Each panel shows four US maps displaying coefficients for Logged census population, Median household income, Median age, and Percentage of white. The spatial patterns remain relatively consistent across different bandwidths.]

[Figure A3. An example of using the activity spaces of African Americans in Jefferson County, KY for specific time periods. Two network maps showing (a) Wednesday between 8a.m.-6p.m. and (b) Sunday after 7p.m. Lines indicate connections between home locations and visited places, with nodes colored by intensity. The Wednesday map shows more distributed activity patterns while the Sunday evening map shows more concentrated patterns.]

[Figure A4. The spatial distribution of African Americans in Jefferson County, KY according to different (residential vs activity space perspectives). Four choropleth maps with segregation metrics: (a) Percentage of African American derived from Census data - Dissimilarity: 0.4923, Exposure: 0.5334; (b) Percentage of African American inferred from de-identified geotagged data - Dissimilarity: 0.4946, Exposure: 0.5314; (c) Percentage of African American at visiting places on Wednesday between 8a.m. and 6p.m. - Dissimilarity: 0.4350, Exposure: 0.5900; (d) Percentage of African American at visiting places on Sunday after 7p.m. - Dissimilarity: 0.5367, Exposure: 0.5236. Note how the residential segregation patterns between the Census and the de-identified social media data set are very similar but how the activity space perspective shows increased segregation on Sunday evenings when compared to a regular weekday.]

---

## Author biographies

**Ate Poorthuis** is an Assistant Professor in Big Data and Human-Environment Systems at the KU Leuven Division of Geography and Tourism. His research explores the possibilities and limitations of big data, through quantitative analysis and visualization, to better understand how cities work.

**Qingqing Chen** is a Ph.D. candidate in the Department of Geography at the University at Buffalo SUNY. Her research focuses on critically understanding urban space by leveraging big data, combined with data science and machine learning techniques. She received a M.S. in Physics from National University of Singapore and B.S. in Physics from Minjiang University of China. Prior to starting her PhD, she worked in the Singapore University of Technology and Design and the Singapore-MIT Alliance for Research and Technology Centre.

**Matthew Zook** is a University Research Professor of Digital and Economic Geographies at the University of Kentucky, Lexington, KY. His research focuses on digital technology, financial geographies, big data, neighborhood change and cities, and the role of finance in urban and regional development.
